<html>

	<head>

		<link rel="stylesheet" type="text/css" href="style.css">

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<title>Projekt</title>


	</head>

	<body background="static/Matea/bright_squares/bright_squares.png">

		<h1><a class="home" href="index.html"> Projekt </a></h1>

		<h1 class="description"> 

			Matea Pejčinović
		<br>
			0036462850
		<br>
			Fakultet elektrotehnike i računarstva
		<br>
			Akademska godina: 2013./2014.
		<br>
			Mentor: prof.dr.sc.Marin Golub
		<br>

			<h1 class="description"> Download:
				<a href="static/Matea/Source.zip"> Source </a> |
				<a href="static/Matea/Groestl.zip"> Groestl</a>
			</h1>
		</h1>
		
		<br>
		<br>
		<h1><center> Funkcija za sažimanje poruka GROESTL</center></h1>

		<br>		
		<p>
		<br><h3>SADRŽAJ</h3>
		<ol>
			<li class="literature"><a href="#uvod">OPIS</a></li>
			<li class="literature"><a href="#opis">OPIS RAZVIJENOG PROIZVODA</a></li>
			<li class="literature"><a href="#znač">TEHNIČKE ZNAČAJKE</a>
			<ol>
				<li class="literature"><a href="#hash">Hash funkcija</a></li>
				<li class="literature"><a href="#kompr">Kompresijska funkcija</a></li>
				<li class="literature"><a href="#perm">Permutacije</a></li>
				<ol>
					<li class="literature"><a href="#add">AddRoundConstant</a></li>
					<li class="literature"><a href="#sub">SubBytes</a></li>
					<li class="literature"><a href="#shift">ShiftBytes</a></li>
					<li class="literature"><a href="#mix">MixBytes</a></li>
				</ol>
				<li class="literature"><a href="#izlaz">Izlazna funkcija</a></li>
			</ol>
			</li>
			<li class="literature"><a href="#upute">UPUTE ZA KORIŠTENJE</a></li>
			<li class="literature"><a href="#lit">LITERATURA</a></li>
		</ol>
		</p>
		<br>
		<br>
		
		<a id="uvod"><h3>UVOD</h3></a>
		<p>
			Funkcija za sažimanje poruka Groestl je jedan od finalista SHA-3 natječaja kojeg je raspisao National Institute of Standards and Technology (NIST). Glavno obilježje Groestla jest to da je on skup funkcija sažimanja razvijen u mnogim varijantama s različitim veličinama izlaza. Zasnovan je na funkciji za računanje sažetka i kompresijskoj funkciji u okviru koje se pozivaju P-permutacija i Q-permutacija.
		</p>

		<br>
		<br>
		<a id="opis"><h3>OPIS RAZVIJENOG PROIZVODA</h3></a>

		<p>
		Programski proizvod nastao u okviru kolegija Projekt iz programske potpore je aplikacija u C# programskom jeziku. Ona je implementacija Groestla, funkcije za sažimanje poruka. Programsko rješenje uglavnom slijedi izvorni algoritam. Razlika je u implementaciji proširenja ulazne poruke gdje je korišten padding algoritma AES. Inače je aplikacija razvijena korištenjem osam klasa:
			<dl>
				<li>Program.cs</li>
				<li>Pokreni.cs</li>
				<li>Hash.cs</li>
				<li>Kompresija.cs</li>
				<li>RadSPermutacijama.cs</li>
				<li>Izlaz.cs</li>
				<li>EkskluzivniILI</li>
				<li>Form1.cs</li>
			</dl>
			
		</p>
		
		<br>
		<br>
		<a id="znač"><h3>TEHNIČKE ZNAČAJKE</h3></a>
		
		<p>
		Groestl algoritam je prepoznatljiv kao skup funkcija za sažimanje poruka. Kolika će biti duljina izlaza, ovisi o tome koju verziju Groestla pokrenemo. Naime, Groestl se u literaturi pojavljuje kao Groestl-n gdje n označava broj bita u izlaznoj poruci. Tako postoje verzije Groestl-224, Groestl-256, Groestl-384 i Groestl-512. Varijante se međusobno razlikuju samo u početnoj vrijednosti i konačnom sažimanju za produkciju hash vrijednosti. 
		U okviru algoritma implementirane su hash funkcija, kompresijska funkcija, funkcija za rad s permutacijama te izlazna funkcija. Kao zasebna klasa implementirano je računanje ekskluzivnog ili budući da se koristi jako mnogo puta.
		</p>
		
		<br>
		<br>
		<a id="hash"><h4>Hash funkcija</h4></a>
	
		<p>
		Nakon što se zadaju ulazna poruka koji treba sažeti i duljina izlazne poruke u bitovima, ti se parametri šalju u hash funkciju gdje se ulazna poruka dijeli u više blokova koji se procesiraju u kompresijskoj funkciji. Svi se blokovi procesiraju zasebno, ali u ovisnosti o prethodnom bloku.
		</p>
		<center><img src="static/Matea/Pictures/Hash.PNG"></center>

		<p>
		H0 je pridružen IV, inače početna vrijednost. Ulazi u kompresijsku funkciju , Hi-1 i Mi, duljine su l bita baš kao i izlaz Hi. Parametar l se određuje prema duljini sažetka, tj. prema duljini izlazne poruke i u svim je varijantama barem dva puta veći od n. Nakon što se svi blokovi obrade, izlazna transformacija <img src="static/Matea/Pictures/dodatak1.PNG"> se pokreće i na daje konačnu n-bitnu hash vrijednost h.
		Bitno je naglasiti da duljina svih blokova treba biti jednaka pa se stoga treba provesti punjenje, odnosno proširenje ulazne poruke (eng. padding). Duljina poruke treba biti višekratnik broja l pa se poruka nadopunjuje dodavanjem bita 1 nakon čega sliijedi (N-65 mod l) bitova 0 te na kraju 64-bitni binarni zapis broja blokova koji predstavlja ograničenje na maksimalnu duljinu poruke.
		</p>

		<br>
		<a id="kompr"><h4>Kompresijska funkcija</h4></a>

		<p>
		Kompresijska funkcija f se temelji na dvije l-bitne permutacije: P-permutaciji i Q-permutaciji. Ona se definira na sljedeći način:
		</p>
		<center><img src="static/Matea/Pictures/KompresijskaFunkcija.PNG"></center>

		<p>
		Kompresijska funkcija grafički se prikazuje na sljedeći način:
		</p>
		<center><img src="static/Matea/Pictures/KompresFja.PNG"></center>

		<p>
		Kao što je na slici vidljivo, u kompresijskoj funkciji koriste se dvije permutacije, P i Q. Ulaz u P permutaciju je rezultat operacije ekskluzivno ili između bloka poruke i ulančanog ulaza.
		</p>
		<br><center><img src="static/Matea/Pictures/KompFja.PNG"></center>
		<br><center> <p> Prikaz programskog ostvarenja </p></center>
		
		<p>
		Izlaz je pak rezultat iste funkcije, ali ovaj put između izlaza iz permutacije P i permutacije Q.
		</p>
		
		<br>
		<a id="perm"><h4>Permutacije</h4></a>
		
		<p>U okviru permutacija trebaju se izvesti četiri transformacije:</p>
		
			<dl>
				<li>AddRoundConstant</li>
				<li>SubBytes</li>
				<li>ShiftBytes</li>
				<li>MixBytes</li>
			</dl>
		
		<p>Permutacije P i Q se razlikuju samo u konstantama koje se koriste u tranformacijama AddRoundConstant i ShiftBytes te u broju koraka. Groestl-256 ima 10 koraka i pridružene permutacije P512 i Q512, a Groestl-512 14 koraka te permutacije P1024 i Q1024. Najprije se ulaz podijeli po bajtovima tako da se matrica puni redak po redak. Broj redaka je uvijek 8, a mijenja se broj stupaca. Za l = 512, broj stupaca je 8, a za l = 1024, broj stupaca iznosi 16.</p>

		<br>
		<a id="add"><h5>AddRoundConstant</h5></a>
		
		<p>
		AddRoundConstant se sastoji od operacija ekskluzivnog ILI između redaka matrice stanja i konstanti koje se razlikuju za P i Q permutacije. Matrica stanja se mijenja u ovoj transformaciji na sljedeći način:
		</p>
		<center><img src="static/Matea/Pictures/konstić.PNG"></center>
		
		<p>
		gdje je C[i] konstanta različita za P i Q pa prva C[i] je konstanta za P512, druga za Q512, treća za P1024, a četvrta za Q1024 permutaciju.
		</p>
		<br><center><img src="static/Matea/Pictures/ZaP512.PNG"></center>
		<br>
		<br><center><img src="static/Matea/Pictures/ZaQ512.PNG"></center>
		<br>
		<br><center><img src="static/Matea/Pictures/ZaP1024.PNG"></center>
		<br>
		<br><center><img src="static/Matea/Pictures/ZaQ1024.PNG"></center>
		<br>
		<br>
		<a id="sub"><h5>SubBytes</h5></a>
		
		<p>
		U okviru ove transformacije primjenjuje se S-Kutija na svaki član matrice. Svaki se element matrice dobije tako da se zamijeni odgovarajućim elementom S-kutije.
		</p>
		<br><center><img src="static/Matea/Pictures/aDD.PNG"></center>
		<br>
		<center><p>Programski prikaz transformacije SubBytes</p></center>
		<br>
		<a id="shift"><h5>ShiftBytes</h5></a>

		<p>
		ShiftBytes ciklički rotira elemente u pojedinom retku matrice ovisno o verziji algoritma i vrsti permutacije. Polja posmaka su zadana na sljedeći način:
		<center>
		</p>
		<br><img src="static/Matea/Pictures/poljeP512.PNG">  <p> za permutaciju P512 </p>
		
		<br><img src="static/Matea/Pictures/poljeQ512.PNG"> <p> za permutaciju P1024 </p>
		
		<br><img src="static/Matea/Pictures/poljeP1024.PNG"> <p> za permutaciju Q512 </p>
		
		<br><img src="static/Matea/Pictures/poljeQ1024.PNG"> <p> za permutaciju Q1024 </p>
		</center>
		<br>
		<a id="mix"><h5>MixBytes</h5></a>

		<p>
		Ova transformacija množi svaki redak A matrice konstantom koja je predstavljena kao kružna matrica B dimenzija 8 x 8.
		</p>
		<br><center><img src="static/Matea/Pictures/matrica B.PNG"></center>
		
		<br><center><img src="static/Matea/Pictures/matrica.PNG"></center>
		
		<center>
		<p>U matrici B su konstante elementi konačnog polja GF (2<sup>8</sup>) definirani polinomom </p>
		<center><img src="static/Matea/Pictures/polinom.PNG"> </center>
		<p>8-bitna vrijednost x u binarnom zapisu </p>
		<center><img src="static/Matea/Pictures/pol2.PNG"> </center> 
		<p>se tada predstavi koristeći polinom u konačnom polju GF (2<sup>8</sup>): </p>
		
		<center><img src="static/Matea/Pictures/KonPolinom.PNG"></center>
		</center>
		<p>
		Množenje x*y u polju GF(2<sup>8</sup>) definirano je kao polinomno množenje modulo polinom <img src="static/Matea/Pictures/polinom.PNG"> Budući da bi ovaj način bio jako spor, koristi se učinkovitija implementacija transformacije MixBytes koja koristi posmak bitova i XOR operaciju:
		</p>
		<br><center><img src="static/Matea/Pictures/Trik.PNG"></center>
		<br><center><p>Alternativno rješenje funkcije MixBytes</p></center>
		
		<br>
		<a id="izlaz"><h4>Izlazna funkcija</h4></a>

		<p>
		U izlaznoj funkciji se generira n-bitni izlaz:
		</p>
		
		
		<p>
		Ht je izlaz iz zadnjeg poziva kompresijske funkcije koji se dovodi na permutaciju P čiji izlaz potom u operaciji ekskluzivni ILI s istim Ht daje izlaz iz izlazne funkcije, a time i iz algoritma Groestl. U gornjem prikazu truncn odbacuje sve znakove osim zadnjih n bita rezultata XOR operacije.
		</p>
		<br><center><img src="static/Matea/Pictures/Izlaz.PNG"></center>
		<br>
		<br><center><img src="static/Matea/Pictures/IzlazKaoSlika.PNG"></center>
		
		<br>
		<br>
		<a id="upute"><h3>UPUTE ZA KORIŠTENJE</h3></a>
		
		<p>
		U aplikaciji je predviđeno mjesto za unos teksta za sažimanje nakon čega slijedi odabir verzije Groestl algoritma. Inače je Groestl algoritam razvijen za različite duljine izlaza, a ova aplikacija je razvijena za inačice Groestl-256 i Groestl-512. Unosom teksta i odabirom verzije algoritma aplikacija se pokreće pritiskom na gumb POKRENI, a njezin se rezultat može vidjeti u heksadekadskom zapisu. 
		</p>
		<br><center><img src="static/Matea/Pictures/Aplikacija.PNG"></center>
		<br><center><p>Razvijena aplikacija</p></center>
		
		<br>
		<br>
		<a id="lit"><h3>LITERATURA</h3></a>

		<ol type="1">
			<li class="literature"> Studeni 2013., <a href=" http://csrc.nist.gov/groups/ST/hash/sha3/Round3/documents/Groestl_FinalRnd.zip">SHA-3 GROESTL</a></li>
			<li class="literature"> Prosinac 2013., <a href=" http://www.groestl.info/specification.html">Specifikacija GROESTL-a</a> </li>
			<li class="literature"> Studeni 2013., <a href=" http://www.groestl.info/implementations.html">Implementacija GROESTL-a</a></li>
        </ol>

        <p>Sve neoznačene slike su preuzete iz gore navedene literature.</p>
		
</body>
</html>